{"version":3,"sources":["components/Payments.js","actions/index.js","actions/types.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["Payments","_this","this","react_default","a","createElement","main_default","name","description","amount","token","props","handleToken","stripeKey","process","className","Component","connect","_ref2","Object","asyncToGenerator","regenerator_default","mark","_callee2","dispatch","res","wrap","_context2","prev","next","axios","post","sent","type","payload","data","stop","_x2","apply","arguments","Header","auth","href","key","components_Payments","style","margin","credits","react_router_dom","to","renderContent","_ref","Landing","textAlign","Dashboard","SurveyNew","App","fetchUser","components_Header","react_router","exact","path","component","_callee","_context","get","_x","combineReducers","state","length","undefined","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","es","components_App","document","querySelector"],"mappings":"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","file":"static/js/main.1108bedd.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { handleToken } from '../actions';\n\nclass Payments extends Component {\n  render() {\n    return (\n      <StripeCheckout\n        name=\"Emaily\"\n        description=\"$5 for 5 email credits\"\n        amount={500}\n        token={token => this.props.handleToken(token)}\n        stripeKey={process.env.REACT_APP_STRIPE_KEY}\n      >\n        <button className=\"btn\">Add Credits</button>\n      </StripeCheckout>\n    );\n  }\n}\n\nPayments.propTypes = {\n  handleToken: PropTypes.func\n};\n\nexport default connect(\n  null,\n  { handleToken }\n)(Payments);\n","import axios from 'axios';\nimport { FETCH_USER } from './types';\n\nexport const fetchUser = () => async dispatch => {\n  const res = await axios.get('/api/current_user');\n  dispatch({ type: FETCH_USER, payload: res.data });\n};\n\nexport const handleToken = token => async dispatch => {\n  const res = await axios.post('/api/stripe', token);\n  dispatch({ type: FETCH_USER, payload: res.data });\n};\n","export const FETCH_USER = 'FETCH_USER';\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport Payments from './Payments';\n\nclass Header extends Component {\n  renderContent() {\n    switch (this.props.auth) {\n      case null:\n        return;\n      case false:\n        return (\n          <li>\n            <a href=\"/auth/google\">Login With Google</a>\n          </li>\n        );\n      default:\n        return [\n          <li key=\"1\">\n            <Payments />\n          </li>,\n          <li key=\"3\" style={{ margin: '0px 10px' }}>\n            Credits: {this.props.auth.credits}\n          </li>,\n          <li key=\"2\">\n            <a href=\"/api/logout\">Logout</a>\n          </li>\n        ];\n    }\n  }\n\n  render() {\n    return (\n      <nav>\n        <div className=\"nav-wrapper\">\n          <Link\n            to={this.props.auth ? '/surveys' : '/'}\n            className=\"left brand-logo\"\n          >\n            Emaily\n          </Link>\n          <ul className=\"right\">{this.renderContent()}</ul>\n        </div>\n      </nav>\n    );\n  }\n}\n\nHeader.propTypes = {\n  auth: PropTypes.oneOfType([PropTypes.object, PropTypes.bool])\n};\n\nfunction mapStateToProps({ auth }) {\n  return { auth };\n}\n\nexport default connect(mapStateToProps)(Header);\n","import React from 'react';\n\nconst Landing = () => {\n  return (\n    <div style={{ textAlign: 'center' }}>\n      <h1>Emaily!</h1>\n      Collect feedback from your users\n    </div>\n  );\n};\n\nexport default Landing;\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { fetchUser } from '../actions';\nimport PropTypes from 'prop-types';\n\nimport Header from './Header';\nimport Landing from './Landing';\n\nconst Dashboard = () => <h2>Dashboard</h2>;\nconst SurveyNew = () => <h2>SurveyNew</h2>;\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.fetchUser();\n  }\n  render() {\n    return (\n      <div className=\"container\">\n        <BrowserRouter>\n          <div>\n            <Header />\n            <Route exact={true} path=\"/\" component={Landing} />\n            <Route exact={true} path=\"/surveys\" component={Dashboard} />\n            <Route exact={true} path=\"/surveys/new\" component={SurveyNew} />\n          </div>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  fetchUser: PropTypes.func\n};\n\nexport default connect(\n  null,\n  { fetchUser }\n)(App);\n","import { combineReducers } from 'redux';\nimport authReducer from './authReducer';\n\nexport default combineReducers({ auth: authReducer });\n","import { FETCH_USER } from '../actions/types';\n\nexport default function(state = null, action) {\n  switch (action.type) {\n    case FETCH_USER:\n      return action.payload || false;\n    default:\n      return state;\n  }\n}\n","import 'materialize-css/dist/css/materialize.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\n\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}